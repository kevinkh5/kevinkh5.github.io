---
title: '[Stack] 스택 알고리즘을 사용하여 숫자를 정렬해보자'
author: baduk
date: 2023-12-23 08:56:00 +0900
categories: [Study, Data Structre and Algorithm]
tags: [study, stack, python, problem solving, algorithm]
---
## 문제상황
예를들어 긴 유리컵(스택)에 숫자가 적힌 공(노드)이 무작위로 일자로 들어가져있다고 상상해보자. 그리고 이 숫자가 큰 숫자가 바닥으로 오도록 새롭게 정렬해야 한다고 했을때, 어떻게 스택이라는 알고리즘을 사용하여 해결할 수 있을까?

## 아이디어
### 준비물
문제를 해결하기에 앞서 일단 사용해야하는 알고리즘은 스택이다. 문제를 풀기위해 우리가 준비해야할 것은 `또 다른 긴 유리컵 1`개와 공 한개만 들어갈 수 있는 `작은 유리컵 1`개이다.(이 작은 유리컵을 앞으로 스몰컵이라고 부르겠다. 이 스몰컵은 코딩시에는 `temp`로 사용될 것이며 또 다른 긴 유리컵은 `sorted_stack`이라는 스택으로 사용될 것이다.)

### 로직
 먼저 무작위로 공이 들어가져있는 유리컵에서 공을 위에서 하나를 빼서 스몰컵(temp)에 넣는다. 만약 또 다른 긴 유리컵안에 공이 없으면 그대로 그 유리컵에 공을 새롭게 넣어준다. 그리고 다시 원래 들어있던 컵 맨위에서 공을 꺼내어 스몰컵에 넣는다. 이때 만약 스몰컵에 들어있는 숫자보다 새로운 유리컵 맨위에 들어있는 공의 숫자가 크다면, 새로운 유리컵에 있는 공을 원래 유리컵에 다시 담는다. 또 있다면 반복한다. 없으면 다시 기존에 있던 유리컵에서 공을 꺼내어 스몰컵에 담고, 스몰컵에 담긴 공과 새로운 긴 유리컵에 공을 다시 비교한다. 만약 새로운 긴 유리컵에 공이 없으면, 스몰컵에 있는 공을 그냥 다시 넣어주면 된다. 그리고 원래있던 컵에 공이 비어져있으면, 새로운 긴 컵에 있는 공을 위에서부터 차례대로 원래있던 컵에 넣어주면된다. 원래 있던 컵에 공이 비어져있을 타이밍에는 이미 새로운 긴 유리컵에 숫자가 정렬되어 있을 것이다.

### 풀이결과
 로직을 위와 같이 반복하게 되면 원래있던 컵에는 깊숙이 큰 숫자가 들어가게 될 것이고, 새로운 긴 컵에는 깊숙이 작은 숫자가 들어가려는 경향을 보일 것이다. 그리고 최종적으로는 원래 있던 컵에 큰숫자부터 작은숫자로 정렬되어져서 공이 들어가게 될 것이다.

## 내가 작성한 코드
 ```python
 def sort_stack(stack):
    sorted_stack = Stack()
    while not stack.is_empty():#원래컵에 비어있을때 까지 반복
        temp = stack.pop() #스몰컵에 공 임시로 담기
        while not(sorted_stack.is_empty()) and sorted_stack.peek() > temp: #새로운 긴 유리컵에 있는 공을 기존 유리컵에 담는 과정
            stack.push(sorted_stack.pop())
        sorted_stack.push(temp) # 스몰컵에 있는 공을 새로운 긴 유리컵에 담는 과정
    while not sorted_stack.is_empty(): # 원래 컵이 비어있으면 새로운 긴유리컵에 있는 공이 없어질 떄까지 원래 컵에 다시 차례대로 담기
        stack.push(sorted_stack.pop())
 ```

 ---
## 후기
이 문제를 해결하는 과정에서, 이러한 아이디어를 어떻게 떠올릴 수 있는지 신기하다. 나는 펜으로 직접 적어보면서 이해하는데에도 힘들었다. 어떻게 두개의 스택을 사용하여 정렬을 할 생각을 했을까.😵‍💫